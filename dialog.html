<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>å¯¾è©±ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ100</title>
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@700;800;900&display=swap" rel="stylesheet" />
  <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: 'Nunito', sans-serif; min-height: 100vh; background: #f8fafc; }
    .card      { transition: all 0.18s cubic-bezier(.4,2,.6,1); cursor: pointer; }
    .card:hover { transform: translateY(-3px); box-shadow: 0 10px 24px rgba(0,0,0,0.1); }
    .btn       { border: none; cursor: pointer; font-family: 'Nunito', sans-serif; transition: all 0.15s; }
    .btn:hover  { filter: brightness(1.07); transform: scale(1.02); }
    .btn:active { transform: scale(0.97); }
    .fav-btn   { transition: all 0.2s cubic-bezier(.4,2,.6,1); border: none; background: none; cursor: pointer; }
    .fav-btn:hover { transform: scale(1.2); }
    .modal-bg  { position: fixed; inset: 0; background: rgba(0,0,0,0.5); z-index: 99; display: flex; align-items: center; justify-content: center; padding: 20px; }
    .modal     { background: #fff; border-radius: 28px; padding: 28px; max-width: 500px; width: 100%; animation: modalIn 0.3s cubic-bezier(.4,2,.6,1); max-height: 90vh; overflow-y: auto; }
    @keyframes modalIn { from{transform:scale(0.85);opacity:0} to{transform:scale(1);opacity:1} }
  
    .home-btn {
      position: fixed; bottom: 20px; right: 20px; z-index: 9999;
      background: rgba(15,14,23,0.88); backdrop-filter: blur(8px);
      color: #fff; border: 1px solid rgba(255,255,255,0.15);
      border-radius: 99px; padding: 10px 20px;
      font-family: "Nunito", sans-serif; font-size: 13px; font-weight: 800;
      text-decoration: none; display: flex; align-items: center; gap: 6px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.3);
      transition: all 0.2s cubic-bezier(.4,2,.3,1);
    }
    .home-btn:hover { transform: scale(1.08); background: rgba(255,137,6,0.92); border-color: transparent; }
</style>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">
    const { useState, useEffect } = React;

    const PROMPTS = [
      // ã‚ã•
      { id:1,  situation:"morning",  tag:"ãã‚Šã‹ãˆ",   ng:"æ—©ãèµ·ããªã•ã„ï¼",           ok:"èµ·ããŸã‚‰ä½•ãŒã—ãŸã„ï¼Ÿ",                         tip:"ã€Œã‚„ã‚ŠãŸã„ã“ã¨ã€ã§è‡ªç™ºçš„ã«å‹•ãã‚¹ã‚¤ãƒƒãƒã‚’å…¥ã‚Œã¾ã™ã€‚",               color:"#f59e0b" },
      { id:2,  situation:"morning",  tag:"ã—ãŸã",     ng:"ã”ã¯ã‚“é£Ÿã¹ãªã•ã„ï¼",         ok:"ä»Šæ—¥ã®ã”ã¯ã‚“ã€ã©ã‚ŒãŒå¥½ããã†ï¼Ÿ",                 tip:"é¸æŠè‚¢ã‚’ä¸ãˆã‚‹ã“ã¨ã§ã€Œè‡ªåˆ†ã§æ±ºã‚ãŸæ„Ÿã€ãŒç”Ÿã¾ã‚Œã¾ã™ã€‚",             color:"#f59e0b" },
      { id:3,  situation:"morning",  tag:"ã—ãŸã",     ng:"æ—©ãç€æ›¿ãˆã¦ï¼",             ok:"ã©ã®æœãŒãã‚‡ã†ã®æ°—åˆ†ï¼Ÿ",                         tip:"è‡ªå·±æ±ºå®šã‚’å¼•ãå‡ºã™ã“ã¨ã§å‹•ããŒé€Ÿããªã‚Šã¾ã™ã€‚",                     color:"#f59e0b" },
      { id:4,  situation:"morning",  tag:"ã‚‚ã¡ã‚‚ã®",   ng:"ã¾ãŸå¿˜ã‚Œç‰©ã—ãŸï¼",           ok:"ã‚«ãƒãƒ³ã«å…¥ã£ã¦ã‚‹ã‹ä¸€ç·’ã«ç¢ºèªã—ã‚ˆã†ã‹ï¼Ÿ",           tip:"è²¬ã‚ãšã«ã€Œãƒãƒ¼ãƒ ã§è§£æ±ºã€ã®å§¿å‹¢ã‚’ç¤ºã—ã¾ã™ã€‚",                       color:"#f59e0b" },
      { id:5,  situation:"morning",  tag:"ãã‚Šã‹ãˆ",   ng:"ãƒ†ãƒ¬ãƒ“æ¶ˆã—ã¦ï¼",             ok:"ãƒ†ãƒ¬ãƒ“ã¯ä½•åˆ†å¾Œã«æ¶ˆã™ï¼Ÿ",                         tip:"å­ã©ã‚‚è‡ªèº«ã«çµ‚ã‚ã‚Šã®æ™‚é–“ã‚’æ±ºã‚ã•ã›ã¾ã™ã€‚",                         color:"#f59e0b" },
      // ã—ã‚…ãã ã„
      { id:6,  situation:"homework", tag:"ã¨ã‚Šã‹ã‹ã‚Š", ng:"å®¿é¡Œã—ãªã•ã„ï¼",             ok:"ç­†ç®±ã‚’å‡ºã™ã ã‘ã‚„ã£ã¦ã¿ã‚ˆã†ã€‚",                   tip:"æœ€åˆã®ä¸€æ­©ã‚’ã¨ã¦ã‚‚å°ã•ãã™ã‚‹ã®ãŒã‚³ãƒ„ã§ã™ã€‚",                       color:"#3b82f6" },
      { id:7,  situation:"homework", tag:"ã—ã‚…ã†ã¡ã‚…ã†",ng:"ã¡ã‚ƒã‚“ã¨ã‚„ã£ã¦ï¼",          ok:"ã¾ãš3å•ã ã‘ã‚„ã£ãŸã‚‰æ•™ãˆã¦ã€‚",                     tip:"ã€Œã‚´ãƒ¼ãƒ«ã‚’è¦‹ãˆã‚‹å½¢ã€ã«ã™ã‚‹ã“ã¨ã§é›†ä¸­ã§ãã¾ã™ã€‚",                   color:"#3b82f6" },
      { id:8,  situation:"homework", tag:"ã‚‚ã¨ã‚ã‚‹",   ng:"ãªã‚“ã§ã“ã‚“ãªã®ã‚ã‹ã‚‰ãªã„ã®ï¼",ok:"ã©ã“ãŒã‚ã‹ã‚‰ãªã‹ã£ãŸï¼Ÿä¸€ç·’ã«è¦‹ã¦ã¿ã‚ˆã†ã€‚",       tip:"ã€Œã‚ã‹ã‚‰ãªã„ã€ã‚’è¨€ãˆã‚‹å®‰å…¨ãªå ´ã‚’ä½œã‚Šã¾ã™ã€‚",                       color:"#3b82f6" },
      { id:9,  situation:"homework", tag:"ã»ã‚ã‚‹",     ng:"(ä½•ã‚‚è¨€ã‚ãªã„)",             ok:"æœ€å¾Œã¾ã§é ‘å¼µã£ãŸã­ã€‚ã©ã“ãŒä¸€ç•ªã‚€ãšã‹ã—ã‹ã£ãŸï¼Ÿ", tip:"åŠªåŠ›ã®ãƒ—ãƒ­ã‚»ã‚¹ã‚’è¨€èªåŒ–ã™ã‚‹ã“ã¨ã§è‡ªå·±è‚¯å®šæ„ŸãŒè‚²ã¡ã¾ã™ã€‚",           color:"#3b82f6" },
      { id:10, situation:"homework", tag:"ã¨ã‚Šã‹ã‹ã‚Š", ng:"ã¾ã ã‚„ã£ã¦ãªã„ã®ï¼",         ok:"å®¿é¡Œã€ä»Šæ—¥ã¯ã©ã‚Œã‹ã‚‰å§‹ã‚ãŸã„ï¼Ÿ",                 tip:"é †ç•ªã®è‡ªå·±æ±ºå®šãŒå–ã‚Šçµ„ã¿ã‚’å¾ŒæŠ¼ã—ã—ã¾ã™ã€‚",                         color:"#3b82f6" },
      // ãã‚‚ã¡
      { id:11, situation:"emotion",  tag:"ãŠã¡ã¤ã",   ng:"æ³£ã‹ãªã„ã®ï¼",               ok:"æ³£ããŸã„ã‚ˆã­ã€‚ã©ã†ã—ãŸã®ï¼Ÿ",                     tip:"æ„Ÿæƒ…ã‚’å—ã‘æ­¢ã‚ã¦ã‹ã‚‰è©±ã—åˆã„ã«å…¥ã‚Šã¾ã™ã€‚",                         color:"#ef4444" },
      { id:12, situation:"emotion",  tag:"ãã‚‚ã¡ã‚’ãã",ng:"ã¾ãŸæ€’ã£ã¦ï¼",              ok:"ã„ã¾ã©ã‚“ãªæ°—æŒã¡ï¼Ÿ",                             tip:"æ„Ÿæƒ…ã®åå‰ã‚’è¨€èªåŒ–ã™ã‚‹ã“ã¨ãŒè½ã¡ç€ãã®ç¬¬ä¸€æ­©ã§ã™ã€‚",               color:"#ef4444" },
      { id:13, situation:"emotion",  tag:"ã‘ã‚“ã‹",     ng:"è¬ã‚Šãªã•ã„ï¼",               ok:"ã©ã†ã—ãŸã‚‰ã‚ˆã‹ã£ãŸã¨æ€ã†ï¼Ÿ",                     tip:"è‡ªåˆ†ã§è€ƒãˆã•ã›ã‚‹ã“ã¨ã§ã€æœ¬å½“ã®ç†è§£ãŒç”Ÿã¾ã‚Œã¾ã™ã€‚",                 color:"#ef4444" },
      { id:14, situation:"emotion",  tag:"ã“ã†ã‹ã‚“",   ng:"ãã‚“ãªã“ã¨ã—ã¡ã‚ƒãƒ€ãƒ¡ï¼",     ok:"ã€‡ã€‡ã—ãŸã‹ã£ãŸã‚“ã ã­ã€‚ã§ã‚‚ã©ã†ã—ãŸã‚‰ã‚ˆã‹ã£ãŸã‹ãªï¼Ÿ",tip:"æ°—æŒã¡ã‚’èªã‚ã¦ã‹ã‚‰è¡Œå‹•ã‚’ä¸€ç·’ã«è€ƒãˆã¾ã™ã€‚",                       color:"#ef4444" },
      { id:15, situation:"emotion",  tag:"ãŠã¡ã¤ã",   ng:"ã†ã‚‹ã•ã„ï¼",                 ok:"å¤§ããªå£°ã¯ã€ä½•ã‹ä¼ãˆãŸã„ã“ã¨ãŒã‚ã‚‹ï¼Ÿ",           tip:"è¡Œå‹•ã®èƒŒæ™¯ã«ã‚ã‚‹ã€Œæ°—æŒã¡ã€ã‚’æ¢ã‚Šã¾ã™ã€‚",                           color:"#ef4444" },
      // ã”ã¯ã‚“
      { id:16, situation:"meal",     tag:"ã—ã‚‡ãã˜",   ng:"æ®‹ã—ãŸã‚‰ãƒ€ãƒ¡ï¼",             ok:"ä¸€å£ã ã‘é£Ÿã¹ã¦ã¿ã‚ˆã†ã‹ã€‚ã©ã‚“ãªå‘³ãŒã™ã‚‹ï¼Ÿ",       tip:"ã€Œä¸€å£ã€ã¨ã„ã†ãƒãƒ¼ãƒ‰ãƒ«ã‚’æœ€å°åŒ–ã—ã¾ã™ã€‚",                           color:"#10b981" },
      { id:17, situation:"meal",     tag:"ã—ã‚‡ãã˜",   ng:"é‡èœé£Ÿã¹ãªã•ã„ï¼",           ok:"é‡èœã€ä»Šæ—¥ã¯ã«ã‚“ã˜ã‚“ã¨ãƒ–ãƒ­ãƒƒã‚³ãƒªãƒ¼ã©ã£ã¡ã‹ã‚‰ï¼Ÿ", tip:"äºŒæŠã§è‡ªå·±æ±ºå®šã®æ„Ÿè¦šã‚’å¼•ãå‡ºã—ã¾ã™ã€‚",                             color:"#10b981" },
      { id:18, situation:"meal",     tag:"ãªãŒãŸã¹",   ng:"æ—©ãé£Ÿã¹ã¦ï¼",               ok:"ã©ã‚ŒãŒä¸€ç•ªãŠã„ã—ã„ï¼Ÿ",                           tip:"é£Ÿäº‹ã¸ã®èˆˆå‘³ãŒè‡ªç„¶ã¨æ—©é£Ÿã„ã«ã¤ãªãŒã‚Šã¾ã™ã€‚",                       color:"#10b981" },
      { id:19, situation:"meal",     tag:"ã—ã‚‡ãã˜",   ng:"éŠã°ãªã„ã§é£Ÿã¹ã¦ï¼",         ok:"ã”é£¯ä¸­ã«ä½•ã‹æ°—ã«ãªã‚‹ã“ã¨ãŒã‚ã‚‹ï¼Ÿ",               tip:"è½ã¡ç€ã‹ãªã„ç†ç”±ã‚’æ¢ã‚Šã¾ã™ã€‚",                                     color:"#10b981" },
      { id:20, situation:"meal",     tag:"ã»ã‚ã‚‹",     ng:"(ä½•ã‚‚è¨€ã‚ãªã„)",             ok:"å…¨éƒ¨é£Ÿã¹ã‚‰ã‚ŒãŸã­ï¼ã©ã‚ŒãŒå¥½ãã ã£ãŸï¼Ÿ",           tip:"å®Œé£Ÿå¾Œã®ä¼šè©±ãŒæ¬¡ã®é£Ÿäº‹ã¸ã®å‹•æ©Ÿã«ãªã‚Šã¾ã™ã€‚",                       color:"#10b981" },
      // ã‚ˆã‚‹
      { id:21, situation:"night",    tag:"ãã‚Šã‹ãˆ",   ng:"ãŠé¢¨å‘‚å…¥ã‚Šãªã•ã„ï¼",         ok:"ãŠé¢¨å‘‚ã€ä»Šæ—¥ã¯ä½•ã®ã‚·ãƒ£ãƒ³ãƒ—ãƒ¼ä½¿ã†ï¼Ÿ",             tip:"ã€Œæ¥½ã—ã„è¦ç´ ã€ã§è‡ªç™ºçš„ã«å‹•ããã£ã‹ã‘ã‚’ä½œã‚Šã¾ã™ã€‚",                 color:"#8b5cf6" },
      { id:22, situation:"night",    tag:"ã­ã‚‹",       ng:"æ—©ãå¯ãªã•ã„ï¼",             ok:"å¸ƒå›£ã«å…¥ã£ãŸã‚‰ä½•ã®è©±ã‚’ã—ã‚ˆã†ã‹ï¼Ÿ",               tip:"ã€Œå¸ƒå›£ã§ã®ã”è¤’ç¾ï¼ˆãŠè©±ï¼‰ã€ã‚’ä½œã‚Šã¾ã™ã€‚",                           color:"#8b5cf6" },
      { id:23, situation:"night",    tag:"ãã‚Šã‹ãˆ",   ng:"ã‚²ãƒ¼ãƒ ã‚„ã‚ã¦ï¼",             ok:"ã‚ã¨ä½•åˆ†ã§ã‚„ã‚ã‚‰ã‚Œã‚‹ï¼Ÿ",                         tip:"å­ã©ã‚‚è‡ªèº«ã«çµ‚äº†æ™‚é–“ã‚’æ±ºã‚ã•ã›ã¾ã™ã€‚",                             color:"#8b5cf6" },
      { id:24, situation:"night",    tag:"ãµã‚Šã‹ãˆã‚Š", ng:"(ä½•ã‚‚è¨€ã‚ãªã„)",             ok:"ä»Šæ—¥ä¸€ç•ªã†ã‚Œã—ã‹ã£ãŸã“ã¨ã¯ä½•ã ã£ãŸï¼Ÿ",           tip:"1æ—¥ã®ãƒã‚¸ãƒ†ã‚£ãƒ–ãªç· ã‚ããã‚ŠãŒç¿Œæ—¥ã®æ„æ¬²ã«ã¤ãªãŒã‚Šã¾ã™ã€‚",         color:"#8b5cf6" },
      { id:25, situation:"night",    tag:"ã­ã‚‹",       ng:"é›»æ°—æ¶ˆã—ã¦ï¼",               ok:"é›»æ°—æ¶ˆã™ã®ã€ä»Šæ—¥ã¯è‡ªåˆ†ã§ã§ãã‚‹ï¼Ÿ",               tip:"å°ã•ãªã€Œè‡ªåˆ†ã§ã§ããŸã€ä½“é¨“ã‚’ç©ã¿é‡ã­ã¾ã™ã€‚",                       color:"#8b5cf6" },
      // ãŒã£ã“ã†
      { id:26, situation:"school",   tag:"ã»ã†ã“ã",   ng:"å­¦æ ¡ã©ã†ã ã£ãŸï¼Ÿ(ã ã¾ã‚‹)",   ok:"ä»Šæ—¥ã€çµ¦é£Ÿã¯ä½•ã ã£ãŸï¼Ÿ",                         tip:"å…·ä½“çš„ãªè³ªå•ãŒç­”ãˆã‚„ã™ã„å…¥å£ã«ãªã‚Šã¾ã™ã€‚",                         color:"#f97316" },
      { id:27, situation:"school",   tag:"ã¨ã‚‚ã ã¡",   ng:"å‹é”ã¨ä»²è‰¯ãã—ãªã•ã„ï¼",     ok:"ä»Šæ—¥ã€èª°ã‹ã¨ä¸€ç·’ã«éŠã‚“ã ï¼Ÿ",                     tip:"äº‹å®Ÿç¢ºèªã‹ã‚‰å§‹ã‚ã¦ã€æ„Ÿæƒ…ã«è¿‘ã¥ãã¾ã™ã€‚",                           color:"#f97316" },
      { id:28, situation:"school",   tag:"ã‚‚ã‚“ã ã„",   ng:"ãªã‚“ã§ãã‚“ãªã“ã¨ã—ãŸã®ï¼",   ok:"ãã®ã¨ãã€ã©ã‚“ãªæ°—æŒã¡ã ã£ãŸï¼Ÿ",                 tip:"è¡Œå‹•ã‚ˆã‚Šå…ˆã«ã€Œæ°—æŒã¡ã€ã‚’èãã¾ã™ã€‚",                               color:"#f97316" },
      { id:29, situation:"school",   tag:"ã¯ã’ã¾ã™",   ng:"ãŒã‚“ã°ã‚Šãªã•ã„ï¼",           ok:"ã‚€ãšã‹ã—ã„ã“ã¨ãŒã‚ã£ãŸã‚‰ã€ã©ã†ä¹—ã‚Šè¶ŠãˆãŸï¼Ÿ",     tip:"ä¹—ã‚Šè¶ŠãˆãŸçµŒé¨“ã‚’è¨€èªåŒ–ã•ã›ã¦ãƒ¬ã‚¸ãƒªã‚¨ãƒ³ã‚¹ã‚’è‚²ã¦ã¾ã™ã€‚",             color:"#f97316" },
      { id:30, situation:"school",   tag:"ã»ã†ã“ã",   ng:"å…ˆç”Ÿã«ä½•ã‹è¨€ã‚ã‚ŒãŸï¼Ÿ",       ok:"ä»Šæ—¥ã€å…ˆç”ŸãŒãŠã‚‚ã—ã‚ã„ã¨æ€ã£ãŸã“ã¨ã‚’æ•™ãˆã¦ã€‚",   tip:"ãƒã‚¬ãƒ†ã‚£ãƒ–ãªæƒ…å ±ã‚ˆã‚Šæ¥½ã—ã„æƒ…å ±ã‚’å¼•ãå‡ºã—ã¾ã™ã€‚",                   color:"#f97316" },
    ];

    const SITUATIONS = [
      { id:"all",      label:"ã™ã¹ã¦",     icon:"ğŸ“‹", color:"#64748b" },
      { id:"morning",  label:"ã‚ã•",       icon:"ğŸŒ…", color:"#f59e0b" },
      { id:"homework", label:"ã—ã‚…ãã ã„", icon:"ğŸ“", color:"#3b82f6" },
      { id:"emotion",  label:"ãã‚‚ã¡",     icon:"ğŸ’", color:"#ef4444" },
      { id:"meal",     label:"ã”ã¯ã‚“",     icon:"ğŸš", color:"#10b981" },
      { id:"night",    label:"ã‚ˆã‚‹",       icon:"ğŸŒ™", color:"#8b5cf6" },
      { id:"school",   label:"ãŒã£ã“ã†",   icon:"ğŸ«", color:"#f97316" },
    ];

    function DialogPrompt() {
      const [filter, setFilter]           = useState("all");
      const [selected, setSelected]       = useState(null);
      const [showFavOnly, setShowFavOnly] = useState(false);
      const [favorites, setFavorites]     = useState(() => { try { return JSON.parse(localStorage.getItem("tdl_dp_fav")||"[]"); } catch { return []; } });
      const [used, setUsed]               = useState(() => { try { return JSON.parse(localStorage.getItem("tdl_dp_used")||"[]"); } catch { return []; } });

      useEffect(() => { localStorage.setItem("tdl_dp_fav",  JSON.stringify(favorites)); }, [favorites]);
      useEffect(() => { localStorage.setItem("tdl_dp_used", JSON.stringify(used));      }, [used]);

      function toggleFav(id) {
        setFavorites(prev => prev.includes(id) ? prev.filter(x => x!==id) : [...prev, id]);
      }
      function markUsed(id) {
        setUsed(prev => prev.includes(id) ? prev : [...prev, id]);
      }

      let filtered = filter==="all" ? PROMPTS : PROMPTS.filter(p => p.situation===filter);
      if (showFavOnly) filtered = filtered.filter(p => favorites.includes(p.id));

      function getRandomPrompt() {
        const pool = filtered.filter(p => !used.includes(p.id));
        if (!pool.length) return;
        const pick = pool[Math.floor(Math.random() * pool.length)];
        setSelected(pick);
        markUsed(pick.id);
      }

      const sitMap = Object.fromEntries(SITUATIONS.map(s => [s.id, s]));

      return (
        <div style={{ minHeight:"100vh", background:"#f8fafc" }}>

          {/* Header */}
          <div style={{ background:"linear-gradient(135deg,#7c3aed,#a78bfa)", padding:"24px 20px 32px", color:"#fff" }}>
            <div style={{ maxWidth:640, margin:"0 auto" }}>
              <div style={{ fontSize:13, color:"#ddd6fe", fontWeight:700, letterSpacing:1 }}>å¯¾è©±ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ100</div>
              <div style={{ fontSize:24, fontWeight:900, marginTop:4 }}>ğŸ’¬ é­”æ³•ã®ã“ã¨ã°</div>
              <div style={{ fontSize:14, color:"#ede9fe", marginTop:6 }}>ã€Œå±ã‚‹ã€ã‚’ã€Œå•ã†ã€ã«å¤‰ãˆã‚‹è¨€è‘‰ã®ãƒ¬ã‚·ãƒ”</div>
              <div style={{ display:"flex", gap:16, marginTop:16 }}>
                {[
                  { label:"ã¤ã‹ã£ãŸ",   value:used.length,              icon:"âœ…" },
                  { label:"ãŠæ°—ã«å…¥ã‚Š", value:favorites.length,          icon:"â¤ï¸" },
                  { label:"ã®ã“ã‚Š",     value:PROMPTS.length-used.length, icon:"ğŸ“‹" },
                ].map(s => (
                  <div key={s.label} style={{ background:"rgba(255,255,255,0.15)", borderRadius:12, padding:"8px 14px", textAlign:"center" }}>
                    <div style={{ fontSize:18, fontWeight:900 }}>{s.icon} {s.value}</div>
                    <div style={{ fontSize:10, color:"#ddd6fe", marginTop:2 }}>{s.label}</div>
                  </div>
                ))}
              </div>
            </div>
          </div>

          <div style={{ maxWidth:640, margin:"0 auto", padding:"20px 16px 80px" }}>

            {/* Random button */}
            <button className="btn" onClick={getRandomPrompt} style={{
              width:"100%", padding:"16px", borderRadius:16, fontSize:15, fontWeight:900,
              background:"linear-gradient(135deg,#7c3aed,#a78bfa)", color:"#fff",
              boxShadow:"0 4px 16px rgba(124,58,237,0.3)", marginBottom:20,
              display:"flex", alignItems:"center", justifyContent:"center", gap:8,
            }}>ğŸ² ãƒ©ãƒ³ãƒ€ãƒ ã«ã²ã¨ã¤ãˆã‚‰ã¶</button>

            {/* Filters */}
            <div style={{ display:"flex", gap:8, overflowX:"auto", paddingBottom:4, marginBottom:12 }}>
              {SITUATIONS.map(s => (
                <button key={s.id} className="btn" onClick={() => setFilter(s.id)} style={{
                  padding:"8px 14px", borderRadius:99, fontSize:12, fontWeight:800, whiteSpace:"nowrap",
                  background: filter===s.id ? s.color : "#f1f5f9",
                  color:       filter===s.id ? "#fff"  : "#64748b",
                  flexShrink:0,
                }}>{s.icon} {s.label}</button>
              ))}
            </div>

            {/* Fav toggle + count */}
            <div style={{ display:"flex", alignItems:"center", gap:8, marginBottom:16 }}>
              <span onClick={() => setShowFavOnly(v => !v)} style={{
                fontSize:13, fontWeight:800, cursor:"pointer", padding:"6px 14px", borderRadius:99,
                background: showFavOnly ? "#fce7f3" : "#f1f5f9",
                color:       showFavOnly ? "#be185d" : "#64748b",
                transition:"all 0.15s",
              }}>â¤ï¸ ãŠæ°—ã«å…¥ã‚Šã ã‘è¦‹ã‚‹</span>
              <span style={{ fontSize:12, color:"#94a3b8", marginLeft:"auto" }}>{filtered.length}ä»¶</span>
            </div>

            {/* Cards */}
            {filtered.length===0 ? (
              <div style={{ textAlign:"center", padding:"40px 20px", color:"#94a3b8", fontSize:14, fontWeight:700 }}>
                <div style={{ fontSize:48, marginBottom:12 }}>ğŸ’¬</div>
                ã“ã“ã«ã¯ã¾ã ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãŒã‚ã‚Šã¾ã›ã‚“
              </div>
            ) : (
              <div style={{ display:"flex", flexDirection:"column", gap:12 }}>
                {filtered.map(prompt => {
                  const isFav  = favorites.includes(prompt.id);
                  const isUsed = used.includes(prompt.id);
                  const sit    = sitMap[prompt.situation];
                  return (
                    <div key={prompt.id} className="card" onClick={() => { setSelected(prompt); markUsed(prompt.id); }} style={{
                      background:"#fff", borderRadius:18, padding:"16px 18px",
                      boxShadow:"0 2px 8px rgba(0,0,0,0.05)",
                      borderLeft:`4px solid ${prompt.color}`,
                      opacity: isUsed ? 0.75 : 1,
                    }}>
                      <div style={{ display:"flex", alignItems:"flex-start", gap:10 }}>
                        <div style={{ flex:1 }}>
                          <div style={{ display:"flex", gap:6, marginBottom:8, flexWrap:"wrap" }}>
                            <span style={{ fontSize:11, fontWeight:800, background:`${prompt.color}15`, color:prompt.color, padding:"2px 8px", borderRadius:99 }}>
                              {sit?.icon} {sit?.label}
                            </span>
                            <span style={{ fontSize:11, fontWeight:800, background:"#f1f5f9", color:"#64748b", padding:"2px 8px", borderRadius:99 }}>
                              #{prompt.tag}
                            </span>
                            {isUsed && <span style={{ fontSize:11, fontWeight:800, background:"#f0fdf4", color:"#16a34a", padding:"2px 8px", borderRadius:99 }}>âœ… ã¤ã‹ã£ãŸ</span>}
                          </div>
                          <div style={{ fontSize:11, color:"#ef4444", fontWeight:800, marginBottom:4 }}>
                            ğŸš« ã‚ˆãã‚ã‚‹è¨€ã„æ–¹ï¼š<span style={{ color:"#94a3b8", textDecoration:"line-through" }}>{prompt.ng}</span>
                          </div>
                          <div style={{ fontSize:15, fontWeight:900, color:"#1e293b" }}>ğŸ’¬ ã€Œ{prompt.ok}ã€</div>
                        </div>
                        <button className="fav-btn" onClick={e => { e.stopPropagation(); toggleFav(prompt.id); }} style={{ fontSize:24, padding:4 }}>
                          {isFav ? "â¤ï¸" : "ğŸ¤"}
                        </button>
                      </div>
                    </div>
                  );
                })}
              </div>
            )}
          </div>

          {/* Modal */}
          {selected && (
            <div className="modal-bg" onClick={() => setSelected(null)}>
              <div className="modal" onClick={e => e.stopPropagation()}>
                <div style={{ display:"flex", gap:8, marginBottom:20, flexWrap:"wrap", alignItems:"center" }}>
                  <span style={{ fontSize:12, fontWeight:800, background:`${selected.color}15`, color:selected.color, padding:"4px 12px", borderRadius:99 }}>
                    {sitMap[selected.situation]?.icon} {sitMap[selected.situation]?.label}
                  </span>
                  <span style={{ fontSize:12, fontWeight:800, background:"#f1f5f9", color:"#64748b", padding:"4px 12px", borderRadius:99 }}>
                    #{selected.tag}
                  </span>
                  <button className="fav-btn" onClick={() => toggleFav(selected.id)} style={{ marginLeft:"auto", fontSize:24, padding:"0 4px" }}>
                    {favorites.includes(selected.id) ? "â¤ï¸" : "ğŸ¤"}
                  </button>
                </div>

                <div style={{ background:"#fef2f2", borderRadius:16, padding:"14px 18px", marginBottom:16 }}>
                  <div style={{ fontSize:12, color:"#dc2626", fontWeight:800, marginBottom:6 }}>ğŸš« ã‚ˆãã‚ã‚‹è¨€ã„æ–¹</div>
                  <div style={{ fontSize:17, fontWeight:800, color:"#7f1d1d", textDecoration:"line-through" }}>ã€Œ{selected.ng}ã€</div>
                </div>

                <div style={{ background:"#f0fdf4", borderRadius:16, padding:"16px 18px", marginBottom:16, border:`2px solid ${selected.color}44` }}>
                  <div style={{ fontSize:12, color:"#16a34a", fontWeight:800, marginBottom:8 }}>âœ¨ ã‹ã‚ã‚Šã®ã“ã¨ã°</div>
                  <div style={{ fontSize:22, fontWeight:900, color:"#14532d", lineHeight:1.4 }}>ã€Œ{selected.ok}ã€</div>
                </div>

                <div style={{ background:"#faf5ff", borderRadius:14, padding:"14px 16px", marginBottom:20 }}>
                  <div style={{ fontSize:12, color:"#7c3aed", fontWeight:800, marginBottom:6 }}>ğŸ’¡ ãªãœåŠ¹ãã®ã‹</div>
                  <div style={{ fontSize:14, color:"#4c1d95", lineHeight:1.6 }}>{selected.tip}</div>
                </div>

                <button className="btn" onClick={() => setSelected(null)} style={{
                  width:"100%", padding:"14px", borderRadius:14, fontSize:15, fontWeight:900,
                  background:"linear-gradient(135deg,#7c3aed,#a78bfa)", color:"#fff",
                }}>ã¨ã˜ã‚‹</button>
              </div>
            </div>
          )}
        </div>
      );
    }

    const root = ReactDOM.createRoot(document.getElementById("root"));
    root.render(<DialogPrompt />);
  </script>
  <a class="home-btn" href="index.html">ğŸ  ãƒ›ãƒ¼ãƒ ã¸</a>
</body>
</html>
