<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æˆ¦ç•¥ãƒžã‚¹ã‚¿ãƒ¼ã‚¢ãƒ—ãƒª - survival_mam</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <style>
        body { margin: 0; background: #0f172a; color: #f8fafc; font-family: sans-serif; display: flex; justify-content: center; align-items: flex-start; min-height: 100vh; }
        .glass-panel { background: rgba(255, 255, 255, 0.08); backdrop-filter: blur(20px); border: 1px solid rgba(255, 255, 255, 0.15); border-radius: 40px; width: 100%; max-width: 480px; margin: 20px; padding: 25px; box-shadow: 0 20px 50px rgba(0,0,0,0.5); }
        .thermometer-container { background: rgba(0, 0, 0, 0.5); border-radius: 50px; width: 50px; height: 220px; position: relative; overflow: hidden; border: 4px solid rgba(255, 255, 255, 0.3); }
        .thermometer-fill { position: absolute; bottom: 0; width: 100%; transition: height 0.8s ease; }
        .animate-float { animation: float 3s ease-in-out infinite; }
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-15px); } }
        .monster-card { background: rgba(255,255,255,0.05); border-radius: 20px; padding: 12px; margin-bottom: 8px; cursor: pointer; border: 1px solid rgba(255,255,255,0.1); }
        .map-node { background: #ff8a80; color: white; padding: 6px 12px; border-radius: 20px; margin: 4px; display: inline-block; font-size: 0.75rem; }
    </style>
</head>
<body>
    <div id="root"></div>
    <script>
        const { useState, useEffect, useMemo } = React;
        const SECRET_PASSWORD = "master2025"; 

        const PasswordGate = ({ onAuthorized }) => {
            const [input, setInput] = useState("");
            const [error, setError] = useState(false);
            const check = () => {
                if (input === SECRET_PASSWORD) { onAuthorized(); } 
                else { setError(true); setInput(""); }
            };
            return React.createElement("div", { className: "glass-panel flex flex-col items-center justify-center min-h-[300px]" },
                React.createElement("h2", { className: "text-xl font-bold mb-4" }, "ðŸ” survival_mam é™å®šå…¬é–‹"),
                React.createElement("input", {
                    type: "password", value: input, 
                    onChange: (e) => setInput(e.target.value),
                    onKeyDown: (e) => e.key === 'Enter' && check(),
                    className: "w-full p-3 rounded-xl bg-white/10 border border-white/20 text-center mb-4 text-white outline-none focus:border-pink-500",
                    placeholder: "Password"
                }),
                error && React.createElement("p", { className: "text-red-400 text-xs mb-4" }, "ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒæ­£ã—ãã‚ã‚Šã¾ã›ã‚“"),
                React.createElement("button", { onClick: check, className: "w-full py-3 bg-pink-600 rounded-xl font-bold hover:bg-pink-500 transition-all" }, "ãƒ­ãƒƒã‚¯ã‚’è§£é™¤")
            );
        };

        const App = () => {
            const [scene, setScene] = useState('user-select');
            const [user, setUser] = useState('');
            const [userNames, setUserNames] = useState(['ãƒžãƒž', 'ã“ã©ã‚‚ 1', 'ã“ã©ã‚‚ 2']);
            const [temp, setTemp] = useState(60);
            const [monster, setMonster] = useState(null);
            const [history, setHistory] = useState([]);
            const [isEditing, setIsEditing] = useState(false);
            const [showVoice, setShowVoice] = useState(false);
            const [startTime, setStartTime] = useState(null);
            const [questions, setQuestions] = useState({ q1: '', q2: '', q3: '', q4: '', q5: '' });

            const VOICE_LIB = {
                'ASDå‚¾å‘': { v: 'ä»Šæ—¥ã¯ã€‡ã€‡ãŒå¤‰ã‚ã£ãŸã‘ã©ã€â–³â–³ã¯ã„ã¤ã‚‚ã©ãŠã‚Šã ã‚ˆã€‚å¤§ä¸ˆå¤«ã€‚', h: 'äºˆå®šå¤‰æ›´ã¸ã®å£°ã‹ã‘' },
                'ADHDå‚¾å‘': { v: 'ã‚ã¨3åˆ†ã ã‘ï¼ã‚¿ã‚¤ãƒžãƒ¼ãŒé³´ã£ãŸã‚‰çµ‚ã‚ã‚Šã«ã—ã‚ˆã†ã­ã€‚', h: 'åˆ‡ã‚Šæ›¿ãˆã®å£°ã‹ã‘' },
                'æ„Ÿè¦šéŽæ•': { v: 'ã“ã“ã¯å®‰å…¨ã ã‚ˆã€‚ã‚†ã£ãã‚Šæ¯ã‚’åã„ã¦ã€å¸ã£ã¦ã”ã‚‰ã‚“ã€‚', h: 'æ„Ÿè¦šéŽæ•ã¸ã®å£°ã‹ã‘' },
                'åˆ†é›¢ä¸å®‰': { v: 'ãŠæ¯ã•ã‚“ã¯å¿…ãšã€‡æ™‚ã«è¿Žãˆã«æ¥ã‚‹ã‚ˆã€‚ãŽã‚…ãƒ¼ã—ã¦å……é›»ã—ã‚ˆã†ã€‚', h: 'åˆ†é›¢ä¸å®‰ã¸ã®å£°ã‹ã‘' },
                'ç„¡æ°—åŠ›': { v: 'ã‚†ã£ãã‚Šæ¯ã‚’ã¯ã„ã¦ã¿ã¦ã€‚ãŠæ¯ã•ã‚“ã‚‚ä¸€ç·’ã«ã™ã‚‹ã‚ˆã€‚', h: 'ç„¡æ°—åŠ›ã¸ã®å£°ã‹ã‘' }
            };

            const MONSTERS = [
                { id: 'iraira', name: 'ã‚¤ãƒ©ã‚¤ãƒ©ã‚¶ã‚¦ãƒ«ã‚¹', emoji: 'ðŸ¦–', correctId: 1, voiceKey: 'ASDå‚¾å‘' },
                { id: 'shikushiku', name: 'ã‚·ã‚¯ã‚·ã‚¯ã‚´ãƒ¼ã‚¹ãƒˆ', emoji: 'ðŸ‘»', correctId: 2, voiceKey: 'ADHDå‚¾å‘' },
                { id: 'moyamoya', name: 'ãƒ¢ãƒ¤ãƒ¢ãƒ¤ã‚¹ãƒ¢ãƒƒã‚°', emoji: 'ðŸŒ«ï¸', correctId: 1, voiceKey: 'æ„Ÿè¦šéŽæ•' }
            ];

            const COPING_CARDS = [
                { id: 1, name: 'ã„ãã‚’ ã¯ã', emoji: 'ðŸŒ¬ï¸' },
                { id: 2, name: 'ãŽã‚…ãƒ¼ã™ã‚‹', emoji: 'ðŸ«‚' }
            ];

            const handleAction = card => {
                if (card.id === monster.correctId) {
                    const nextTemp = Math.max(0, temp - 25);
                    setTemp(nextTemp);
                    if (nextTemp <= 10) setScene('result-win');
                } else {
                    setTemp(Math.min(100, temp + 15));
                }
            };

            return React.createElement("div", { className: "glass-panel text-center" },
                scene === 'user-select' && React.createElement("div", null,
                    React.createElement("h2", { className: "text-3xl font-black mb-8" }, "ã ã‚ŒãŒ ã‚ãã¶ï¼Ÿ"),
                    React.createElement("div", { className: "flex flex-col gap-4" },
                        userNames.slice(0, 2).map((u, i) => React.createElement("button", { key: i, onClick: () => {setUser(u);setScene('start');}, className: `p-6 rounded-2xl text-2xl font-bold shadow-lg ${i === 0 ? 'bg-pink-500/70' : 'bg-blue-500/70'}` }, u))
                    )
                ),
                scene === 'start' && React.createElement("div", { className: "text-left" },
                    React.createElement("h2", { className: "text-xl font-bold mb-6 text-blue-300" }, user, " ã® ã¼ã†ã‘ã‚“"),
                    MONSTERS.map((m) => React.createElement("div", { key: m.id, className: "monster-card flex items-center justify-between", onClick: () => {setMonster(m);setTemp(60);setScene('playing');} },
                        React.createElement("span", { className: "text-3xl animate-float" }, m.emoji),
                        React.createElement("span", { className: "font-bold flex-1 ml-4" }, m.name),
                        React.createElement("button", { className: "bg-white text-black text-xs px-3 py-1 rounded-md" }, "ã¯ã˜ã‚ã‚‹")
                    ))
                ),
                scene === 'playing' && React.createElement("div", { className: "flex flex-col items-center" },
                    React.createElement("div", { className: "flex gap-8 items-center mb-6" },
                        React.createElement("div", { className: "thermometer-container" }, React.createElement("div", { className: "thermometer-fill", style: { height: `${temp}%`, background: temp > 80 ? '#ef4444' : '#60a5fa' } })),
                        React.createElement("div", { className: "text-4xl font-black" }, temp, "Â°C")
                    ),
                    React.createElement("div", { className: "grid grid-cols-2 gap-4 w-full" },
                        COPING_CARDS.map(c => React.createElement("button", { key: c.id, onClick: () => handleAction(c), className: "bg-white/10 p-4 rounded-xl border border-white/10 text-xs" }, c.emoji, " ", c.name))
                    )
                ),
                scene === 'result-win' && React.createElement("div", { className: "py-20 text-center" },
                    React.createElement("h2", { className: "text-4xl font-black text-yellow-300 mb-10" }, "ã‚¯ãƒªã‚¢ï¼"),
                    React.createElement("button", { onClick: () => setScene('start'), className: "p-4 bg-pink-500 rounded-full font-bold w-full" }, "ã‚‚ã†ã„ã¡ã©")
                )
            );
        };

        const Main = () => {
            const [isAuthorized, setIsAuthorized] = useState(false);
            return isAuthorized ? React.createElement(App) : React.createElement(PasswordGate, { onAuthorized: () => setIsAuthorized(true) });
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(React.createElement(Main));
    </script>
</body>
</html>